<!DOCTYPE html>
<html>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="css/styling.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>

<title>Entry Page</title>

<!-- light grey bg for large screens -->

<body class="w3-light-grey">

  <!-- w3-content defines a container for fixed size centered content,
and is wrapped around the whole page content,-->
  <div class="w3-content w3-white " style="max-width:800px; height:500px; max-height:800px">
    <!-- Grid

<div class="w3-card-4">
  <div class="w3-row">
    <div class="col-xs-1">
      <a href="Home Page.html">  </a>
     </div>
  </div> -->

    <!-- Header -->
    <header class="w3-panel w3-center w3-opacity w3-padding-16">
      <div class="w3-padding-small">
        <div class="w3-bar w3-border">
          <a href="#" class="w3-bar-item w3-button ">back</a>
          <!--other nav buttons
        <a href="#" class="w3-bar-item w3-button w3-light-grey"></a>
        <a href="#" class="w3-bar-item w3-button"></a>
      -->
          <a href="http://localhost:3000" class="w3-bar-item w3-button ">home</a>
        </div>
      </div>

    </header>
    <div class="w3-padding-large">
      <div class="w3-card-4 w3-margin w3-white">
        <div class="w3-cell-row">
          <div class="timer w3-cell-middle w3-margin">
						<img class="timergraphic" src="../images/middle.png">
						<div class="w3-bar"> <p>timer here</p></div>	
					</div>

         

      <!-- FORM -->
      <div class="w3-card-4 w3-margin w3-white w3-padding-small">

        <div class="form-group">
          <textarea class="form-control rounded-0" id="exampleFormControlTextarea2" placeholder="Write here, right now..." rows="5"></textarea>
        </div>

      </div><!-- END FORM -->

      <!-- TAG AND SAVE -->
      <div class="w3-row w3-card-4 w3-padding-small w3-white">
        <div class="col-xs-10">
          <span class="w3-tag">Happy</span>
					<span class="w3-tag">Work</span>
          <button type="button mx-auto" class="btn btn-default" onclick="download()">Save</button>
        </div>

      </div>
    </div>
  </div><!-- END CONTENT-->


  <script>
    $(".play").click(function() {
      $(".stem").addClass("rain");

      setTimeout(function() {
        $('.stem').removeClass('rain');
      }, 1200);
    });
  </script>
  <!--END PLANT ANIMATION-->

  <script type="text/javascript">
    /* Function to display a Countdown timer with starting time from a form */
    // sets variables for minutes and seconds
    var ctmnts = 0;
    var ctsecs = 0;
    var startchr = 0; // used to control when to read data from form

    function countdownTimer() {

      // https://coursesweb.net/javascript/
      // if $startchr is 0, and form fields exists, gets data for minutes and seconds, and sets $startchr to 1
      if (startchr == 0 && document.getElementById('mns') && document.getElementById('scs')) {
        // makes sure the script uses integer numbers
        ctmnts = parseInt(document.getElementById('mns').value) + 0;
        ctsecs = parseInt(document.getElementById('scs').value) * 1;

        // if data not a number, sets the value to 0
        if (isNaN(ctmnts)) ctmnts = 0;
        if (isNaN(ctsecs)) ctsecs = 0;

        // rewrite data in form fields to be sure that the fields for minutes and seconds contain integer number
        document.getElementById('mns').value = ctmnts;
        document.getElementById('scs').value = ctsecs;
        startchr = 1;
        document.getElementById('btnct').setAttribute('disabled', 'disabled'); // disable the button
      }

      var text = document.getElementById("exampleFormControlTextarea2").value;
      text = text.replace(/\n/g, "\r\n"); // To retain the Line breaks.
      var blob = new Blob([text], {
        type: "text/plain"
      });
      var anchor = document.createElement("a");
      anchor.download = "entries.txt";
      anchor.href = window.URL.createObjectURL(blob);
      anchor.target = "_blank";
      anchor.style.display = "none"; // just to be safe!
      document.body.appendChild(anchor);
      anchor.click();
      document.body.removeChild(anchor);
    }

    // When the user clicks on <div>, open the popup
    function myFunction() {
      var popup = document.getElementById("myPopup");
      popup.classList.toggle("show");
    }


    // When the user clicks on <div>, open the popup
    function myFunction() {
      var popup = document.getElementById("myPopup");
      popup.classList.toggle("show");
    }
  </script>

  <!-- END BODY -->
</body>


</html>
